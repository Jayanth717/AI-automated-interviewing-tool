<!DOCTYPE html>
<html lang="fr">
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">

  <style>
    .error { color: red; }
  </style>

  <link rel="icon" type="image/png" sizes="32x32" href="/static/images/favicon.png">

  <script defer src="https://cdn.jsdelivr.net/npm/vega@5"></script>
  <script defer src="https://cdn.jsdelivr.net/npm/vega-lite@4.17.0"></script>
  <script defer src="https://cdn.jsdelivr.net/npm/vega-embed@6"></script>

  <title>Emotion Timeline</title>
</head>

<body style="background:url('/static/back.jpg'); background-size: cover; background-attachment: fixed; font-family: Arial, sans-serif;">
  <div id="vis"></div>

  <script>
    (function (vegaEmbed) {
      var spec = {"config":{"view":{"continuousWidth":400,"continuousHeight":300}},"layer":[{"mark":{"type":"line","color":"orange","strokeWidth":2},"encoding":{"tooltip":[{"field":"Angry","type":"quantitative"}],"x":{"field":"Time","type":"quantitative"},"y":{"field":"Angry","type":"quantitative"}}},{"mark":{"type":"line","color":"red","strokeWidth":2},"encoding":{"tooltip":[{"field":"Disgust","type":"quantitative"}],"x":{"field":"Time","type":"quantitative"},"y":{"field":"Disgust","type":"quantitative"}}},{"mark":{"type":"line","color":"green","strokeWidth":2},"encoding":{"tooltip":[{"field":"Fear","type":"quantitative"}],"x":{"field":"Time","type":"quantitative"},"y":{"field":"Fear","type":"quantitative"}}},{"mark":{"type":"line","color":"blue","strokeWidth":2},"encoding":{"tooltip":[{"field":"Happy","type":"quantitative"}],"x":{"field":"Time","type":"quantitative"},"y":{"field":"Happy","type":"quantitative"}}},{"mark":{"type":"line","color":"black","strokeWidth":2},"encoding":{"tooltip":[{"field":"Sad","type":"quantitative"}],"x":{"field":"Time","type":"quantitative"},"y":{"field":"Sad","type":"quantitative"}}},{"mark":{"type":"line","color":"pink","strokeWidth":2},"encoding":{"tooltip":[{"field":"Surprise","type":"quantitative"}],"x":{"field":"Time","type":"quantitative"},"y":{"field":"Surprise","type":"quantitative"}}},{"mark":{"type":"line","color":"brown","strokeWidth":2},"encoding":{"tooltip":[{"field":"Neutral","type":"quantitative"}],"x":{"field":"Time","type":"quantitative"},"y":{"field":"Neutral","type":"quantitative"}}}],"data":{"name":"data-aa0dd65db81c909b88beb0837b100c94"},"height":400,"title":"Probability of each emotion over time","width":1000,"$schema":"https://vega.github.io/schema/vega-lite/v4.17.0.json","datasets":{"data-aa0dd65db81c909b88beb0837b100c94":[/* your data unchanged */]}};

      var embedOpt = { mode: "vega-lite" };

      function showError(el, error) {
        el.innerHTML =
          '<div class="error">' +
          '<p><b>JavaScript Error:</b> ' + (error && error.message ? error.message : error) + '</p>' +
          "<p>Check the browser console for the full traceback.</p>" +
          "</div>";
        throw error;
      }

      var el = document.getElementById("vis");

      // Wait until vegaEmbed is actually available (because scripts are deferred)
      function renderWhenReady() {
        if (typeof vegaEmbed !== "function") {
          return setTimeout(renderWhenReady, 50);
        }
        vegaEmbed("#vis", spec, embedOpt).catch(function (error) {
          showError(el, error);
        });
      }

      renderWhenReady();
    })(vegaEmbed);
  </script>
</body>
</html>
